<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <title>Document</title>
</head>
<body>
    <!-- Header Section -->
    <nav>
        <a href="#"></a>
        <ul class="list">
          <li><a href="./secciones/configuracion/index.html">Configuracion</a></li>
        </ul>
        <button class="menu">Menu</button>
    </nav>
   
        <section class="section-main main1">
            <form action="" style="display: flex;  flex-direction: column;">
                <div class="dato-u">
                    <div class="inputs" style="margin-left: 1%;">
                        <label for="numero" style="margin-bottom: 10px;"><h1 style="margin: 0;">DNI:</h1></label>
                            <input type="number" placeholder="DNI" id="numero" name="numero" min="1" style="margin-top: 2px;width: 115%;height: 35%;border-radius: 5px;border: solid 1px;">
                    </div>
                    
                 <div class="inputs" style="margin-left: 10%;">
                        <label for="opciones" style="margin-bottom: 10px;"><h1 style="margin: 0;">Seleccionar un sexo:</h1></label>
                        <select>
                            <option value="1">Hombre</option>
                            <option value="2">Mujer</option>
                          </select>                        
                    </div>

                      <span class="msg"></span>
                    </div>
                
                </div>

                <div class="info-u">
                    <h1>Nombre Moroso</h1>
                    <p>Edad: </p>
                    <p>Sexo: </p>
                    
                    <div style="display: flex;flex-wrap: wrap;">
                        <p>Población: </p>
                        <p style="margin-left: 40%;font-weight: bolder;font-size: 23px;">Score: </p>
                        <img src="./img/controlar.png" alt="Estado" style="width: 70px;margin-left: 20%;" id="imagenEstado">
                    </div>
                </div>

                <input type="submit" value="Enviar" class="button-80 submit-btn" style="padding: 20px;margin-top: 1%;">
            </form>
        </section>

        <div class="section-actual">
            <section class="section-main main2">
                <h1 style="margin: 0;margin-bottom:10px;">Peor status BUREAU actual:</h1>
                <h2 style="margin: 0;margin-bottom: 10px;">Total BUREAU: $</h2>
                <h2 style="margin: 0;">Situación: -</h2>
            </section>


            <section class="section-main main3">
                <h1 style="margin: 0;margin-bottom:10px;">Peor status BCRA actual:</h1>
                <h2 style="margin: 0;margin-bottom:10px;">Total BCRA: $</h2>
                <h2 style="margin: 0;margin-bottom:10px;">Situación: -</h2>
                <div class="button-container">
                    <button class="button-80 open" role="button" data-title="Evolución BCRA" data-table="evolucion" data-show-chart="true">Evolución</button>
                    <button class="button-80 open" role="button" data-title="Composición BCRA" data-table="composicion" data-show-chart="false">Composición</button>
                </div>
            </section>
            
        </div>
    

    <section class="section-main main4">
        <h1 style="margin: 1% 1% 2% 2%;">Cheques</h1>
        <form action="">
            <div class="table-wrapper">
                <table class="fl-table">
                    <thead>
                    <tr>
                        <th>Rechazados</th>
                        <th>Monto</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>Content 1</td>
                        <td>Content 1</td>
                    </tr>
                    <tr>
                        <td>Content 2</td>
                        <td>Content 2</td>
                    </tr>
                    <tr>
                        <td>Content 3</td>
                        <td>Content 3</td>
                    </tr>
                    <tr>
                        <td>Content 4</td>
                        <td>Content 4</td>
                    </tr>
                    <tr>
                        <td>Content 5</td>
                        <td>Content 5</td>
                    </tr>
                    <tr>
                        <td>Content 6</td>
                        <td>Content 6</td>
                    </tr>
                    <tr>
                        <td>Content 7</td>
                        <td>Content 7</td>
                    </tr>
                    <tr>
                        <td>Content 8</td>
                        <td>Content 8</td>
                    </tr>
                    <tr>
                        <td>Content 9</td>
                        <td>Content 9</td>
                    </tr>
                    <tr>
                        <td>Content 10</td>
                        <td>Content 10</td>
                    </tr>
                    <tbody>
                </table>
            </div>
        </form>
    </section>


    <section class="section-main main5">
        <h1 style="margin: 1% 1% 2% 2%;">Juicios</h1>
        <div class="table-wrapper">
            <table class="fl-table">
                <thead>
                <tr>
                    <th>Periodo</th>
                    <th>Monto</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Content 1</td>
                    <td>Content 1</td>
                </tr>
                <tr>
                    <td>Content 2</td>
                    <td>Content 2</td>
                </tr>
                <tr>
                    <td>Content 3</td>
                    <td>Content 3</td>
                </tr>
                <tr>
                    <td>Content 4</td>
                    <td>Content 4</td>
                </tr>
                <tr>
                    <td>Content 5</td>
                    <td>Content 5</td>
                </tr>
                <tr>
                    <td>Content 6</td>
                    <td>Content 6</td>
                </tr>
                <tr>
                    <td>Content 7</td>
                    <td>Content 7</td>
                </tr>
                <tr>
                    <td>Content 8</td>
                    <td>Content 8</td>
                </tr>
                <tr>
                    <td>Content 9</td>
                    <td>Content 9</td>
                </tr>
                <tr>
                    <td>Content 10</td>
                    <td>Content 10</td>
                </tr>
                <tbody>
            </table>
        </div>
        </form>
    </section>




    <div id="modal_container" class="modal-container">
        <div class="modal">
          <h1 id="modalTitle">Evolución BCRA</h1>
           <form action="">
                  <div class="table-wrapper">
                      <table class="fl-table" id="modalTable">
                          <thead>
                          <tr>
                              <th>Periodo</th>
                              <th></th>
                          </tr>
                          </thead>
                          <tbody>
                          <tr>
                              <td>Content 1</td>
                              <td>Content 1</td>
                          </tr>
                          <tr>
                              <td>Content 2</td>
                              <td>Content 2</td>
                          </tr>
                          <tr>
                              <td>Content 3</td>
                              <td>Content 3</td>
                          </tr>
                          <tr>
                              <td>Content 4</td>
                              <td>Content 4</td>
                          </tr>
                          <tr>
                              <td>Content 5</td>
                              <td>Content 5</td>
                          </tr>
                          <tr>
                              <td>Content 6</td>
                              <td>Content 6</td>
                          </tr>
                          <tr>
                              <td>Content 7</td>
                              <td>Content 7</td>
                          </tr>
                          <tr>
                              <td>Content 8</td>
                              <td>Content 8</td>
                          </tr>
                          <tr>
                              <td>Content 9</td>
                              <td>Content 9</td>
                          </tr>
                          <tr>
                              <td>Content 10</td>
                              <td>Content 10</td>
                          </tr>
                          <tbody>
                      </table>
                  </div>
              </form>
              
              <div id="acquisitionsContainer" style="width: 800px; display: none;"><canvas id="acquisitions"></canvas></div>
          
          <button id="close" class="button-80" style="margin-top: 5%;">Cerrar</button>
        </div>
      </div>
      

</body>

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
<script>

    /*Dropdown Menu*/
    $('.dropdown').click(function () {
        $(this).attr('tabindex', 1).focus();
        $(this).toggleClass('active');
        $(this).find('.dropdown-menu').slideToggle(300);
    });
    $('.dropdown').focusout(function () {
        $(this).removeClass('active');
        $(this).find('.dropdown-menu').slideUp(300);
    });
    $('.dropdown .dropdown-menu li').click(function () {
        $(this).parents('.dropdown').find('span').text($(this).text());
        $(this).parents('.dropdown').find('input').attr('value', $(this).attr('id'));
    });
    /*End Dropdown Menu*/

    $('.dropdown-menu li').click(function () {
    var input = '<strong>' + $(this).parents('.dropdown').find('input').val() + '</strong>',
    msg = '<span class="msg">Hidden input value: ';
    $('.msg').html(msg + input + '</span>');
    }); 
    $(document).ready(function () {
            const $open = $('.open');
            const $modal_container = $('#modal_container');
            const $close = $('#close');
            const $modalTitle = $('#modalTitle');
            const $modalTable = $('#modalTable');
            const $acquisitionsContainer = $('#acquisitionsContainer');
            const $acquisitionsCanvas = $('#acquisitions');

            $open.click(function () {
                const title = $(this).data('title');
                const tableType = $(this).data('table');
                const showChart = $(this).data('show-chart');

                // Cambiar el título del modal
                $modalTitle.text(title);

                // Cambiar dinámicamente la estructura de la tabla
                if (tableType === 'evolucion') {
                    // Lógica para la tabla de Evolución
                    $modalTable.html(`
                        <thead>
                            <tr>
                                <th>Periodo</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Contenido de la tabla de Evolución -->
                        </tbody>
                    `);

                    // Mostrar el contenedor de adquisiciones solo para Evolución
                    $acquisitionsContainer.show();
                } else if (tableType === 'composicion') {
                    // Lógica para la tabla de Composición
                    $modalTable.html(`
                        <thead>
                            <tr>
                                <th>Situación</th>
                                <th>Entidad</th>
                                <th>Monto</th>
                                <th>Cantidad</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Contenido de la tabla de Composición -->
                            <tr>
                                <td>Composición 1</td>
                                <td>Entidad 1</td>
                                <td>Monto 1</td>
                                <td>Cantidad 1</td>
                            </tr>
                            <tr>
                                <td>Composición 2</td>
                                <td>Entidad 2</td>
                                <td>Monto 2</td>
                                <td>Cantidad 2</td>
                            </tr>
                            <!-- Agrega más filas según sea necesario -->
                        </tbody>
                    `);

                    // Ocultar el contenedor de adquisiciones solo para Composición
                    $acquisitionsContainer.hide();
                }

                // Mostrar u ocultar el gráfico según el botón clicado
                if (showChart) {
                    // Lógica para el gráfico (puedes ajustar según tus datos y necesidades)
                    (async function() {
                        const data = [
                            { year: 2010, count: 10 },
                            { year: 2011, count: 20 },
                            { year: 2012, count: 15 },
                            { year: 2013, count: 25 },
                            { year: 2014, count: 22 },
                            { year: 2015, count: 30 },
                            { year: 2016, count: 28 },
                        ];

                        new Chart(
                            $acquisitionsCanvas[0],
                            {
                                type: 'line',
                                data: {
                                    labels: data.map(row => row.year),
                                    datasets: [
                                        {
                                            label: 'Acquisitions by year',
                                            data: data.map(row => row.count)
                                        }
                                    ]
                                }
                            }
                        );
                    })();
                } else {
                    // Ocultar el contenedor de adquisiciones si no se muestra el gráfico
                    $acquisitionsContainer.hide();
                }

                $modal_container.addClass('show');
            });

            $close.click(function () {
                $modal_container.removeClass('show');
            });
        });
</script>
</html>